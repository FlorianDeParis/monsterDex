@use "sass:list";
@use "sass:map";
@use "sass:meta";

@use "../config/_colors" as colors;


@function map-deep-get($map, $keys...) {
  //https://stackoverflow.com/questions/43188418/check-if-value-in-a-sass-map-exists
  $scope: $map; $i: 1;
  @while (meta.type-of($scope) == map) and ($i <= list.length($keys)) {
    $scope: map.get($scope, list.nth($keys, $i));
    $i: $i + 1;
  }
  @return $scope;
}


// COLORS
@function generateBgcolor($map, $submap, $key:null) {
  @return map-deep-get($map, $submap, $key);
}

@function getColor($keys...){

  @debug map.get(colors.$color-tokens, $keys...);

  @if(map-has-key(colors.$color-tokens, $keys...)){
    @return map.get(colors.$color-tokens, $keys...)
  }

  @warn "/!\ La propriété n'existe pas dans le tableau des couleurs";
  @return #000;
}
